{
  "name": "Dev Gadgets",
  "image": "golang:1.25-bookworm",

  // connected. This is typically a file mount in .devcontainer/docker-compose.yml
  "customizations": {
    "vscode": {
      "settings": {
        "go.toolsManagement.autoUpdate": true,
        "go.useLanguageServer": true,
        "go.gopath": "/go"
      },
      "extensions": [
        "mads-hartmann.bash-ide-vscode",
        "bierner.markdown-preview-github-styles",
        "nefrob.vscode-just-syntax",
        "eamodio.gitlens",
        "mhutchie.git-graph",
        "EditorConfig.EditorConfig",
        "streetsidesoftware.code-spell-checker",
        "streetsidesoftware.code-spell-checker-portuguese-brazilian",
        "oderwat.indent-rainbow",
        "shardulm94.trailing-spaces",
        "alefragnani.Bookmarks",
        "aaron-bond.better-comments",
        "Gruntfuggly.todo-tree",
        "yzhang.markdown-all-in-one",
        "bierner.markdown-emoji",
        "foxundermoon.shell-format",
        "mikestead.dotenv",
        "redhat.vscode-yaml",
        "tamasfe.even-better-toml",
        "humao.rest-client",
        "ms-vscode-remote.remote-ssh",
        "golang.Go"
      ]
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "username": "vscode",
      "installZsh": true,
      "updateRemoteUserUID": false
    },
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/pirpedro/features/antidote:": {
      "setAsDefaultShell": true
    },
    "ghcr.io/pirpedro/features/chezmoi:": {
      "repoUrl": "pirpedro",
      "apply": false
    },
    "ghcr.io/pirpedro/features/dev-gadgets:": {}
  },
  "mounts": [
    "source=${localEnv:SSH_AUTH_SOCK},target=/ssh-agent,type=bind",
    // "source=${localEnv:HOME}/.config/git/config,target=/home/vscode/.gitconfig,type=bind",
    "source=${localEnv:HOME}/.ssh/known_hosts,target=/home/vscode/.ssh/known_hosts,type=bind"
  ],
  "remoteEnv": {
    "SSH_AUTH_SOCK": "/ssh-agent"
  },
  "postCreateCommand": "ln -s /workspaces/dev-gadgets/templates/Justfile ~/.config/just/Justfile;go mod download",
  "remoteUser": "vscode"
}
